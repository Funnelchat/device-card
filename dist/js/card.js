/*! For license information please see card.js.LICENSE.txt */
(()=>{"use strict";var t,e={486:(t,e,n)=>{const o=Vue;var r={class:"wpp-container w-full relative text-90 bg-white"},a={class:"wpp-content w-full"},i={class:"container m-auto"},s={class:"row-span-2 col-span-12 bg-gray-100 rounded p-2 m-1 flex justify-between items-center"},c={class:"flex justify-center items-center"},u={key:0,src:"/g2.png",alt:"gushup icon",width:"90px"},l={class:"text-90 ml-2 font-medium"},d={class:"flex justify-center items-center"},h={key:0,class:"text-90 capitalize"},f={key:0,class:"body text-90 p-1 mb-4"};var p={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 39 39"},m=[(0,o.createElementVNode)("path",{fill:"#00E676",d:"M10.7 32.8l.6.3c2.5 1.5 5.3 2.2 8.1 2.2 8.8 0 16-7.2 16-16 0-4.2-1.7-8.3-4.7-11.3s-7-4.7-11.3-4.7c-8.8 0-16 7.2-15.9 16.1 0 3 .9 5.9 2.4 8.4l.4.6-1.6 5.9 6-1.5z"},null,-1),(0,o.createElementVNode)("path",{fill:"#FFF",d:"M32.4 6.4C29 2.9 24.3 1 19.5 1 9.3 1 1.1 9.3 1.2 19.4c0 3.2.9 6.3 2.4 9.1L1 38l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM19.5 34.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L6.9 28l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9s16.5-2.3 20.9 4.9 2.3 16.5-4.9 20.9c-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5s.4-.4.5-.6c.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z"},null,-1)];const v={props:[],methods:{}};var g=n(744);const _=(0,g.Z)(v,[["render",function(t,e,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",p,m)}]]);var y=n(379),w=n.n(y),b=n(205),x={insert:"head",singleton:!1};w()(b.Z,x);b.Z.locals;var S={class:"w-full"},k={class:"text-center p-4"};const E={props:{status:Object}};var N=n(23),C={insert:"head",singleton:!1};w()(N.Z,C);N.Z.locals;const q=(0,g.Z)(E,[["render",function(t,e,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([[{"status-auth-battery":"Expired plan"!=n.status.accountStatus,"bg-gray-300":"Expired plan"==n.status.accountStatus},"status-auth","p-4","flex","m-auto","font-medium"],""])},[(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("p",k,(0,o.toDisplayString)(t.__(n.status.statusData.msg))+".",1)])],2)}],["__scopeId","data-v-067942af"]]);var B=function(t){return(0,o.pushScopeId)("data-v-dc5edf62"),t=t(),(0,o.popScopeId)(),t},V={class:"flex items-center justify-center"},M={class:"qr-text p-8"},L={class:"text-lg font-bold text-gray-800 leading-tight"},O={class:"text-gray-600 pt-2 pb-3"},j={class:"text-gray-600"},I={class:"ml-4"},D={class:"pb-2"},T={class:"pb-2"},z=B((function(){return(0,o.createElementVNode)("span",{class:"inline-block"},[(0,o.createElementVNode)("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px"},[(0,o.createElementVNode)("rect",{fill:"#f2f2f2",height:"24",rx:"3",width:"24"}),(0,o.createElementVNode)("path",{d:"m12 15.5c.825 0 1.5.675 1.5 1.5s-.675 1.5-1.5 1.5-1.5-.675-1.5-1.5.675-1.5 1.5-1.5zm0-2c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5zm0-5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",fill:"#818b90"})])],-1)})),A=B((function(){return(0,o.createElementVNode)("span",{class:"inline-block"},[(0,o.createElementVNode)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[(0,o.createElementVNode)("rect",{fill:"#F2F2F2",width:"24",height:"24",rx:"3"}),(0,o.createElementVNode)("path",{d:"M9.34 8.694a4.164 4.164 0 0 0-1.606 3.289c0 1.338.63 2.528 1.61 3.292l-1.46 2.527a7.065 7.065 0 0 1-3.052-5.82c0-2.41 1.206-4.54 3.048-5.816l1.46 2.528zm6.713 2.859c-.217-2.079-1.992-3.739-4.148-3.739-.578 0-1.128.116-1.628.329L8.819 5.617a7.042 7.042 0 0 1 3.086-.704c3.76 0 6.834 2.958 7.059 6.64h-2.91zm-1.065.43a3.083 3.083 0 1 1-6.166 0 3.083 3.083 0 0 1 6.166 0zm-6.164 6.364l1.458-2.523a4.153 4.153 0 0 0 1.623.322 4.154 4.154 0 0 0 4.12-3.524h2.922a7.062 7.062 0 0 1-7.042 6.426c-1.105 0-2.15-.25-3.081-.7zm11.197-7.21a7.88 7.88 0 0 0-.404-1.824l.286-.12a.527.527 0 0 0-.403-.973l-.29.12a8.176 8.176 0 0 0-1.197-1.77l.231-.23a.526.526 0 1 0-.744-.744l-.234.234a8.17 8.17 0 0 0-1.775-1.18l.13-.31a.526.526 0 1 0-.972-.403l-.12.313a8.463 8.463 0 0 0-1.995-.405v-.35A.533.533 0 0 0 12 2.97a.533.533 0 0 0-.535.526v.338a8.02 8.02 0 0 0-2.173.416l-.13-.313a.526.526 0 0 0-.972.402l.129.311a8.171 8.171 0 0 0-1.775 1.18l-.235-.235a.526.526 0 0 0-.743.744l.23.231A8.175 8.175 0 0 0 4.6 8.34l-.29-.12a.526.526 0 0 0-.403.971l.285.122a7.882 7.882 0 0 0-.404 1.824h-.322a.533.533 0 0 0-.526.534c0 .29.235.535.526.535h.28c.02.831.166 1.624.418 2.378l-.257.1a.523.523 0 1 0 .402.968l.252-.105a8.17 8.17 0 0 0 1.191 1.797l-.187.187a.526.526 0 1 0 .744.743l.184-.183a8.173 8.173 0 0 0 1.792 1.208l-.096.231a.526.526 0 1 0 .972.403l.096-.23c.698.24 1.436.387 2.208.428v.243c0 .29.244.526.535.526.29 0 .534-.235.534-.526v-.253a8.012 8.012 0 0 0 2.03-.417l.09.229a.523.523 0 1 0 .967-.403l-.096-.231a8.172 8.172 0 0 0 1.792-1.208l.184.183a.526.526 0 1 0 .743-.744l-.187-.186a8.174 8.174 0 0 0 1.191-1.798l.252.104a.526.526 0 1 0 .403-.971l-.257-.095a8.074 8.074 0 0 0 .417-2.378h.281c.29 0 .526-.244.526-.535a.533.533 0 0 0-.526-.534h-.323z",fill:"#818B90"})])],-1)})),P={class:"pb-2"},Z={class:"pb-2"},F=["src"],Q=B((function(){return(0,o.createElementVNode)("img",{src:"/qrcode.png",alt:""},null,-1)})),G={class:"text-sm text-gray-800"};const W={props:["status","suspended_qr","startInterval"],methods:{reloadQr:function(){this.startInterval(!0,this.status.on||!1)}}};var R=n(523),U={insert:"head",singleton:!1};w()(R.Z,U);R.Z.locals;const Y=(0,g.Z)(W,[["render",function(t,e,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",V,[(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("div",L,(0,o.toDisplayString)(t.__("Scan the QR code")),1),(0,o.createElementVNode)("p",O,(0,o.toDisplayString)(t.__("To start using Funnelchat, you must link your WhatsApp number"))+": ",1),(0,o.createElementVNode)("div",j,[(0,o.createElementVNode)("ol",I,[(0,o.createElementVNode)("li",D,"1. "+(0,o.toDisplayString)(t.__("Open WhatsApp on your phone"))+".",1),(0,o.createElementVNode)("li",T,[(0,o.createTextVNode)(" 2. "+(0,o.toDisplayString)(t.__("Touch Menu"))+" ",1),z,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(t.__("or Configuration"))+" ",1),A,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(t.__("and select WhatsApp Web"))+". ",1)]),(0,o.createElementVNode)("li",P," 3. "+(0,o.toDisplayString)(t.__("Press the PAIR A DEVICE button"))+". ",1),(0,o.createElementVNode)("li",Z," 4. "+(0,o.toDisplayString)(t.__("When the camera is activated point this screen to scan the code"))+". ",1)])])]),n.status.qrCode&&!n.suspended_qr?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:n.status.qrCode,alt:""},null,8,F)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"py-8 px-16 w-2/6 text-center cursor-pointer hover:shadow-lg",onClick:e[0]||(e[0]=function(){return i.reloadQr&&i.reloadQr.apply(i,arguments)})},[Q,(0,o.createElementVNode)("span",G,(0,o.toDisplayString)(t.__("Your code has expired, click here to get a new one"))+". ",1)]))])}],["__scopeId","data-v-dc5edf62"]]);var $=[(0,o.createStaticVNode)('<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',3)];const H={props:["color","width"],computed:{getColor:function(){return this.color?this.color:"#dcdad8"},getWidth:function(){return this.width?this.width:"50px"}},data:function(){return{}}};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function K(){K=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),s=new E(r||[]);return o(i,"_invoke",{value:b(t,n,s)}),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d={};function h(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(N([])));g&&g!==e&&n.call(g,a)&&(m=g);var _=p.prototype=h.prototype=Object.create(m);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==J(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function b(t,e,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=l(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=l(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,o(_,"constructor",{value:p,configurable:!0}),o(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},y(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,o,r,a){void 0===a&&(a=Promise);var i=new w(u(e,n,o,r),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=N,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function X(t,e,n,o,r,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,r)}function tt(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){X(a,o,r,i,s,"next",t)}function s(t){X(a,o,r,i,s,"throw",t)}i(void 0)}))}}const et={props:["card","resource"],mounted:function(){this.loadUserInfo()},data:function(){return{supplier:"",admin_view:!1,qr_call_number:0,suspended_qr:!1,instance_code:"",token:"",uid:"",device_id:"",device_number:"",device_alias:"",device_color:"",status:{accountStatus:"loading"},loading:!0,show_alert:!1,message_alert:"",type_alert:"",seconds_to_retry:0,wapi_url:"",webhook_url:"",interval_seconds:null,interval_status:null,status_history_items:[],messages_history_items:[],show_modal_messages_history:!1,info_user:null,messages_queue_items:[],show_modal_messages_queue:!1,show_modal_disconnect:!1,show_modal_sync_groups:!1,show_modal_sync_messages:!1,show_modal_change_number:!1,show_body:!1,loading_status_basic:{accountStatus:"loading"},cant_queue:0,is_expired:!1}},components:{StatusNotPaid:q,StatusQR:Y,Loading:(0,g.Z)(H,[["render",function(t,e,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"mx-auto block",style:(0,o.normalizeStyle)({color:i.getColor,width:i.getWidth})},$,4)}]]),WhatsappSvg:_},computed:{is_official:function(){return"gupshup"==this.supplier},show_alias:function(){return this.device_alias&&""!==this.device_alias},show_number:function(){return this.device_number&&""!==this.device_number},get_formated_number:function(){return this.show_alias&&this.show_number?"".concat(this.device_alias," (+").concat(this.device_number,")"):this.show_number?"+".concat(this.device_number):this.__("No registered number")},auth_state:function(){if(this.status.accountStatus){switch(this.status.accountStatus){case"init":return"Initialize";case"got qr code":return this.controlShowBody("open"),"Scan QR Code";default:return this.status.accountStatus}return this.status.accountStatus}return"loading"},user_phone_number:function(){return this.info_user&&this.info_user.phone?this.info_user.phone:""},cant_queue_messages:function(){return this.cant_queue}},methods:{updateStatus:function(){var t=arguments,e=this;return tt(K().mark((function n(){var o;return K().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.length>1&&void 0!==t[1]&&t[1],t.length>0&&void 0!==t[0]&&t[0]&&(e.status={},e.suspended_qr=!1),n.next=5,Nova.request().get("".concat(e.webhook_url).concat(e.instance_code,"/status"),{params:{on:o}}).then((function(t){var n=t.data;n.error||n.message&&n.message.includes("is stopped")?(e.loading=!1,e.controlShowBody("open"),e.status={accountStatus:"Contact technical support",statusData:{msg:"Please contact the customer service staff so that they can restart your instance and we apologize for the inconvenience"}}):"Expired plan"==n.accountStatus?(e.loading=!1,e.is_expired=!0,e.controlShowBody("open"),e.status={accountStatus:n.accountStatus,statusData:{msg:"Your plan has expired, make a payment to continue using the service"}}):("To continue sending a message, you must subscribe to this instance again"==n.accountStatus?(e.qr_call_number=0,e.suspended_qr=!0,n.accountStatus="got qr code",n.on=!0):"got qr code"==n.accountStatus?e.qr_call_number>=5?(e.qr_call_number=0,e.suspended_qr=!0,clearInterval(e.interval_status)):0==e.qr_call_number?(e.interval_status=setInterval((function(){e.updateStatus()}),6e3),e.qr_call_number++):(e.qr_call_number++,e.suspended_qr=!1):e.qr_call_number=0,e.status&&e.status.accountStatus&&e.status.accountStatus!=n.accountStatus&&e.loadUserInfo(),e.status=n,e.loading=!1)})).catch((function(t){e.loading=!1,e.controlShowBody("open"),e.status={accountStatus:"Contact technical support",statusData:{msg:"Please contact the customer service staff so that they can restart your instance and we apologize for the inconvenience"}}}));case 5:case"end":return n.stop()}}),n)})))()},logout:function(){var t=this;return tt(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nova.request().post(t.wapi_url+t.instance_code+"/logout?token="+t.token).then((function(e){200==e.status?(t.loading=!0,t.updateStatus()):t.showAlert("There was an error","error")})).catch((function(t){console.log(t.toString())}));case 2:case"end":return e.stop()}}),e)})))()},loadUserInfo:function(){var t=this;Nova.request().get(this.wapi_url+this.instance_code+"/me?token="+this.token).then((function(e){200==e.status&&(t.info_user=e.data,t.device_number&&t.device_number!=t.info_user.phone&&t.$toasted.show("".concat(t.__("wrong_number",{number:t.info_user.phone})),{duration:5e4,type:"warning"}))})).catch((function(t){console.log(t.toString())}))},showModalMessagesQueue:function(){this.show_modal_messages_queue=!0},hideModalMessagesQueue:function(){this.show_modal_messages_queue=!1},getQueueMessages:function(){var t=this,e=this.wapi_url+this.instance_code+"/showMessagesQueue?token="+this.token;Nova.request().get(e).then((function(e){t.cant_queue=e.data.totalMessages})).catch((function(t){console.log(t.toString())}))},clearMessagesQueue:function(){var t=this,e=this.wapi_url+this.instance_code+"/clearMessagesQueue?token="+this.token;Nova.request().post(e).then((function(e){t.showModalMessagesQueue(),setTimeout((function(){t.show_modal_messages_queue=!1}),2e3)})).catch((function(t){console.log(t.toString())}))},showModalDisconnect:function(){this.show_modal_disconnect=!0},hideModalDisconnect:function(){this.show_modal_disconnect=!1},showModalSyncGroups:function(){this.show_modal_sync_groups=!this.show_modal_sync_groups},showModalSyncMessages:function(){this.show_modal_sync_messages=!this.show_modal_sync_messages},showModalChangeNumber:function(){this.show_modal_change_number=!this.show_modal_change_number},disconnect:function(){var t=this;return tt(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nova.request().post(t.wapi_url+t.instance_code+"/logout?token="+t.token).then((function(e){t.show_modal_disconnect=!1,200==e.status?(t.showAlert("Disconnected successfully","success"),t.loading=!0,t.status={accountStatus:"loading"},t.updateStatus()):t.showAlert("There was an error","error")})).catch((function(e){t.show_modal_disconnect=!1,console.log(e.toString())}));case 2:case"end":return e.stop()}}),e)})))()},changeNumber:function(){var t=this;return tt(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,Nova.request().post("/nova-vendor/wppstatus/change-number/".concat(t.device_id)).then((function(e){var n=e.data;t.$toasted.show(n,{duration:1e4,type:"success"}),t.status.accountStatus="loading",t.device_number="",t.updateStatus(),t.showModalChangeNumber()})).catch((function(e){var n=e.response;t.$toasted.show(n.data,{duration:1e4,type:"error"})}));case 2:case"end":return e.stop()}}),e)})))()},showAlert:function(t,e){this.$toasted.show("".concat(this.__(t),"."),{duration:1e4,type:e})},showBody:function(){this.show_body=!0,localStorage.setItem("device-".concat(this.device_id),"open")},hideBody:function(){this.show_body=!1,localStorage.setItem("device-".concat(this.device_id),"hide")},controlShowBody:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=localStorage.getItem("device-".concat(this.device_id));t?"open"==e||"hide"==e?this.show_body="open"==e:(this.show_body="open"==t,localStorage.setItem("device-".concat(this.device_id),t)):localStorage.removeItem("device-".concat(this.device_id))}},created:function(){this.supplier=this.card.supplier,this.instance_code=this.card.instance_code,this.device_alias=this.card.device_alias,this.device_color=this.card.device_color||"#38c172",this.token=this.card.token,this.device_id=this.card.device_id,this.device_number=this.card.device_number,this.admin_view=this.card.admin_view,this.status={},this.suspended_qr=!1,this.official_status=this.card.official_status,this.wapi_url="".concat(this.card.wapi_url,"/api/instance"),this.webhook_url="".concat(this.card.webhook_url,"/api/instances"),"gupshup"==this.supplier?this.status={accountStatus:this.official_status}:this.updateStatus()}},nt=(0,g.Z)(et,[["render",function(t,e,n,p,m,v){var g=(0,o.resolveComponent)("WhatsappSvg"),_=(0,o.resolveComponent)("loading"),y=(0,o.resolveComponent)("StatusQR"),w=(0,o.resolveComponent)("StatusNotPaid"),b=(0,o.resolveComponent)("card",!0);return(0,o.openBlock)(),(0,o.createBlock)(b,{class:"flex flex-col items-center justify-center"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([{"h-24":!v.is_official,"mt-4":!v.is_official,"mb-6":!v.is_official,"grid-rows-3":!v.is_official,"h-16":v.is_official,"my-4":v.is_official,"grid-rows-2":v.is_official},"grid","grid-flow-col","gap-1"])},[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",{style:(0,o.normalizeStyle)({background:m.device_color}),class:"flex justify-center items-center p-1 rounded-full"},[v.is_official?((0,o.openBlock)(),(0,o.createElementBlock)("img",u)):((0,o.openBlock)(),(0,o.createBlock)(g,{key:1}))],4),(0,o.createElementVNode)("span",l,(0,o.toDisplayString)(v.get_formated_number),1)]),(0,o.createElementVNode)("div",d,["Contact technical support"!=m.status.accountStatus?((0,o.openBlock)(),(0,o.createElementBlock)("span",h,(0,o.toDisplayString)(t.__("status"))+":Â  ",1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("p",{class:(0,o.normalizeClass)([{"auth-green":"authenticated"==m.status.accountStatus||v.is_official,"auth-yellow":!v.is_official&&(m.loading||"loading"==m.status.accountStatus||!m.status.accountStatus),"auth-red":!v.is_official&&"Contact technical support"==m.status.accountStatus},"uppercase","auth-label"])},[(0,o.createTextVNode)((0,o.toDisplayString)(t.__(v.auth_state))+" ",1),v.is_official||!m.loading&&"loading"!=m.status.accountStatus&&m.status.accountStatus?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(_,{key:0,color:"#b98201"}))],2)])])],2),m.show_body&&!v.is_official?((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[m.status.qrCode||m.status.on?((0,o.openBlock)(),(0,o.createBlock)(y,{key:0,status:m.status,startInterval:v.updateStatus,suspended_qr:m.suspended_qr},null,8,["status","startInterval","suspended_qr"])):((0,o.openBlock)(),(0,o.createBlock)(w,{key:1,status:m.status},null,8,["status"]))])):(0,o.createCommentVNode)("",!0)])])])]})),_:1})}]]);Nova.booting((function(t,e){t.component("status",nt)}))},205:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".material-design-icon{align-self:center;display:inline-flex;height:1em;position:relative;width:1em}.material-design-icon>.material-design-icon__svg{fill:currentColor;bottom:-.125em;height:1em;position:absolute;width:1em}",""]);const a=r},23:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".status-auth[data-v-067942af]{border-radius:5px}.status-auth-battery[data-v-067942af]{background-color:#ff676740;color:#d81818}.status-auth-battery-img .material-design-icon[data-v-067942af],.status-auth-battery-img .material-design-icon svg[data-v-067942af]{height:80px!important;width:80px!important}",""]);const a=r},523:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".qr-text h2[data-v-dc5edf62]{padding:15px 0}.qr-text p[data-v-dc5edf62]{padding:10px 0}",""]);const a=r},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},962:()=>{},379:(t,e,n)=>{var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],r=0;r<t.length;r++){var a=t[r],c=e.base?a[0]+e.base:a[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=s(l),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(h)):i.push({identifier:l,updater:v(h,e),references:1}),o.push(l)}return o}function u(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var a=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function f(t,e,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var p=null,m=0;function v(t,e){var n,o,r;if(e.singleton){var a=m++;n=p||(p=u(e)),o=h.bind(null,n,a,!1),r=h.bind(null,n,a,!0)}else n=u(e),o=f.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=s(n[o]);i[r].references--}for(var a=c(t,e),u=0;u<n.length;u++){var l=s(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=a}}}},744:(t,e)=>{e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,o]of e)n[t]=o;return n}}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={id:t,exports:{}};return e[t](a,a.exports,o),a.exports}o.m=e,t=[],o.O=(e,n,r,a)=>{if(!n){var i=1/0;for(l=0;l<t.length;l++){for(var[n,r,a]=t[l],s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((t=>o.O[t](n[c])))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(l--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,r,a]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={440:0,458:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var r,a,[i,s,c]=n,u=0;if(i.some((e=>0!==t[e]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var l=c(o)}for(e&&e(n);u<i.length;u++)a=i[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(l)},n=self.webpackChunkfunnelchat_status=self.webpackChunkfunnelchat_status||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),o.nc=void 0,o.O(void 0,[458],(()=>o(486)));var r=o.O(void 0,[458],(()=>o(962)));r=o.O(r)})();